"""
Configuration module for KBO Baseball Analytics Chatbot.

환경 변수 및 시스템 설정을 관리합니다.
"""

import os
from pathlib import Path
from dotenv import load_dotenv

# =============================================================================
# 환경 변수 로드
# =============================================================================
load_dotenv()

# =============================================================================
# API Keys
# =============================================================================
OPENAI_API_KEY = os.getenv("OPENAI_API_KEY")

# =============================================================================
# LLM 설정
# =============================================================================
LLM_MODEL = "gpt-4o"  # 메인 분석용 모델
CLASSIFIER_MODEL = "gpt-4o-mini"  # 빠른 분류용 경량 모델
TEMPERATURE = 0  # 일관된 출력을 위해 0으로 설정

# =============================================================================
# 경로 설정
# =============================================================================
BASE_DIR = Path(__file__).parent.parent
DATA_DIR = BASE_DIR / "data"
RAW_DATA_DIR = DATA_DIR / "raw"
CHROMA_DB_DIR = DATA_DIR / "chroma_db"

# 데이터 하위 폴더
SEASON_DATA_DIR = RAW_DATA_DIR / "season_2025"
MATCH_DATA_DIR = RAW_DATA_DIR / "matches"

# =============================================================================
# ChromaDB 설정
# =============================================================================
COLLECTION_NAME = "kbo_data"
EMBEDDING_MODEL = "intfloat/multilingual-e5-large-instruct"

# =============================================================================
# 검색 설정
# =============================================================================
RETRIEVAL_TOP_K = 5  # 검색할 최대 문서 수
SIMILARITY_THRESHOLD = 0.75  # 시맨틱 검색 최소 유사도 임계값

# =============================================================================
# RapidFuzz 설정
# =============================================================================
TEAM_MATCH_THRESHOLD = 80  # 팀명 매칭 최소 점수
PLAYER_MATCH_THRESHOLD = 75  # 선수명 매칭 최소 점수
